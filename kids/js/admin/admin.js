function ajaxSend(e,t){0==message&&(message=new Messages),$(t).on("submit",function(t){t.preventDefault();var a=$(this);$.ajax({type:"POST",url:e,dataType:"JSON",data:a.serialize(),error:function(e){console.log(e)},success:function(e){if(console.log(e),e.error&&message.addMessage(e.error,"error"),e.success){if(message.addMessage(e.success,"success"),e.refresh_src)for(var t in e.refresh_src)$("#img_"+t).attr("src",e.refresh_src[t]);if(e.clearID){var a=$("#id"+e.clearID).next();$("#id"+e.clearID).remove(),a.hasClass("details-wrapper")&&a.remove(),hideModal($modal)}}hideModal($modal)}})})}function showModal(e){e.css("display","block"),e.animate({opacity:1},250)}function hideModal(e){e.css({display:"none",opacity:0})}var message=0,$modal=0,$modalEdit=0;$(document).ready(function(){$modal=$(".overlay-delete"),$modalEdit=$(".overlay-edit"),$(".tab-widget .tab").on("click",function(){$(this).parent().find("div").removeClass("active"),$(this).next().addClass("active"),$(this).parent().find(".tab").removeClass("selected"),$(this).addClass("selected")}),$(".msg").slideUp(150).css("display","block"),$(".dropdown").prev().on("click",function(e){e.preventDefault(),$(this).next().slideDown(350).parent().addClass("sub")}),$(".delete").on("click",function(){var e=$(this).parent().parent().find(".id").text();showModal($modal),$("#comment-id").val(e);var t="Ви впевнені, що хочете видалити коментар під номером: "+e+"?";$modal.find(".text").empty().text(t)}),$(".delete-logo").on("click",function(){var e=$(this).parent().parent().find(".logo-id").val();showModal($modal),$("#logo-id").val(e);var t="Ви впевнені, що хочете видалити Партнера: "+e+"?";$modal.find(".text").empty().text(t)}),$(".delete-product").on("click",function(){var e=$(this).parent().parent().find(".product-id").val();showModal($modal),$("#product-id").val(e);var t="Ви впевнені, що хочете видалити Продукт: "+e+"?";$modal.find(".text").empty().text(t)}),$(".delete-order").on("click",function(){var e=$(this).parent().parent().find(".order-id").text();showModal($modal),$("#order-id").val(e);var t="Ви впевнені, що хочете видалити Замовлення під номером: "+e+"?";$modal.find(".text").empty().text(t)}),$("#delete-comment, #delete-order, #delete-logo, #delete-product").on("reset",function(){hideModal($modal)}),$(".dropdown-details").on("click",function(){var e=$(this).parent().parent().removeClass("new"),t="/uk/admin/updateorderviewed/"+e.find(".order-id").text();e.next().toggleClass("height-auto"),$.ajax({type:"POST",url:t,data:0,error:function(e){console.log(e)},success:function(e){if(1==e.success){var t=$(".toolbar .orders span").text();$(".toolbar .orders span").empty().text(t-1)}console.log(e)}})}),$(".edit").on("click",function(){var e=$(this).parent().parent().removeClass("new");showModal($modalEdit);var t=e.find(".id").text(),a=e.find(".name").text(),o=e.find(".text").text(),n=e.find(".email").text(),s=e.find(".who").text(),d=e.find(".publish").text(),i=e.find(".main-page").text(),r=e.find(".img-src").text(),c=e.find(".rating").text(),l=e.find(".product-name").text();$("#id-title").empty().text(t),$("#update-id").val(t),$("#name").val(a),$("#comment-text").empty().text(o),$("#email").val(n),$("#who").val(s),$("#img_image_src").attr("src",r),$("#image_src").val(r),$("#rating").val(c),$(".product-name-form").empty().text(l),1==d?$("#publish").prop("checked",!0):$("#publish").prop("checked",!1),1==i?$("#featured").prop("checked",!0):$("#featured").prop("checked",!1);var m="/uk/admin/updatecommentviewed/"+t;$.ajax({type:"POST",url:m,data:0,error:function(e){console.log(e)},success:function(e){if(1==e.success){var t=$(".toolbar .comments span").text();$(".toolbar .comments span").empty().text(t-1)}console.log(e)}})}),$(".close-edit").on("click",function(){hideModal($modalEdit)})});var Messages=function(e){var t={count:0,container:".msg"};t.count=0;var a=this,o=$(t.container);this.construct=function(e){$.extend(t,e),$(".msg").delegate(".close-msg","click",function(e){$(e.target).parent().remove(),a.removeMessage()})},this.addMessage=function(e,a){t.count++,o.append("<div class='flexbox "+a+"'><span>"+e+"</span><i class='fa fa-times close-msg' aria-hidden='true'></i></div>"),t.count>0&&o.slideDown(350)},this.removeMessage=function(){t.count--,t.count<1&&o.slideUp(250)},this.construct(e)};